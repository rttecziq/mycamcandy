<div class="dashboard-bg">
  <!-- <div class="owl-carousel owl-theme">
     <div class="item"><img src="../../../../../assets/img/model/b1.jpg" class="img-responsive"></div>
     <div class="item"><img src="../../../../../assets/img/model/b2.jpg" class="img-responsive"></div>
     <div class="item"><img src="../../../../../assets/img/model/b3.jpg" class="img-responsive"></div>
     <div class="item"><img src="../../../../../assets/img/model/b4.jpg" class="img-responsive"></div>
  </div> -->
  <div class="owl-carousel home-slider" *ngIf="sliders.length > 0">
      <div *ngFor="let slider of sliders">
         <div class="item item-1" [style.background]="'url(' + slider.img + ')'">
         </div>
      </div>
  </div>
</div>
<div class="dashboard-image">
  <div class="container-fluid">
     <div class="row">
        <div class="col-md-3 col-sm-3 col-xs-12">
           <div class="dashboard-img" *ngIf="profile_picture">
              <a href="#/candy-club/{{username}}"><img [src]="profile_picture" alt="" class="img-responsive" /> </a>
           </div>
        </div>
        <div class="col-md-3 col-sm-6 col-xs-12 center-text">
           <h3>{{model_of_the_months.wish}}</h3>
        </div>
        <div class="col-md-3 col-sm-3 col-xs-12 center-text">
           <a href="#/candy-club/{{username}}" class="rotatemodel">{{username}}</a>
        </div>
        <div class="col-md-3 col-sm-12 col-xs-12">
           <div class="dashbroadcast">
              <a routerLink="/performer-dashboard" class="button videostart" href="" ><i class="fa fa-video-camera" aria-hidden="true"></i> <span>Start Streaming</span></a>
           </div>
        </div>
     </div>
  </div>
</div>
<!--End-->
<div class="dashboard-content">
  <div class="container-fluid">
     <div class="row">
        <div class="col-md-3 col-sm-5 col-xs-12">
           <div class="dashboard-earning">
              <h2><i class="fa fa-money" aria-hidden="true"></i> <a href="">My Earnings</a></h2>
              <ul class="list-unstyled">
                 <li class="bold">Earning Candy Balance: <strong>{{total_candies}}</strong></li>
                 <li class="bold"><a>Earning History Details</a></li>
                 <li class="bold"><a>Referral income</a></li>
                 <li class="bold"><a>Referral Stats</a></li>
              </ul>
           </div>
           <div class="dashboard-earning">
              <h2><i class="fa fa-video-camera" aria-hidden="true"></i> <a routerLink="/performer-dashboard"> My Streams</a></h2>
              <ul class="list-unstyled" *ngIf="channel_list.length">
                 <li *ngFor="let channel of channel_list">
                    <a>{{channel.channel_name}}</a>
                  </li>
              </ul>
              <a class="channel" role="button" data-toggle="modal" data-target="#addChannel" #channelBtn>Create new channel</a>
           </div>
           <!-- My followers -->
           <app-my-followers></app-my-followers>

           <div class="dashboard-earning">
              <h2><i class="fa fa-comment" aria-hidden="true"></i> <a href="">Private Messages</a></h2>
              <app-private-message></app-private-message>
           </div>
           <div class="dashboard-earning">
              <h2><i class="fa fa-users" aria-hidden="true"></i> <a href="">My Fan Club</a></h2>
              <div class="members">
                 <h3><span>Members</span> <span class="counted">3</span></h3>
              </div>
              <ul class="list-unstyled">
                 <li class="bold"><a href="">Edit my Fan club profile</a></li>
                 <li class="bold"><a href="">Manage Fan club photos</a></li>
                 <li class="bold"><a href="">Manage Fan club videos</a></li>
              </ul>
           </div>

           <!-- Broadcast Schedule -->
            <app-broadcast-schedule></app-broadcast-schedule>

        </div>
        <div class="col-md-6 col-sm-7 col-xs-12 center-div">
           <div class="model-tabs">
              <ul class="nav nav-pills nav-justified">
                 <li class="active"><a href="#Home" data-toggle="tab">Model of the month</a></li>
                 <li><a href="#About" data-toggle="tab">Latest news & policies</a></li>
                 <li><a href="#Videos" data-toggle="tab">Tips to make more money</a></li>
              </ul>
              <div class="tab-content">
                  <div class="tab-pane fade in active"  id="Home">
                     <div class="tab-body-bg" *ngIf="model_of_the_months.name">
                        <!-- <p class="no-model-found">No model of this month </p> -->
                       <div class="row model-month-row">   
                                            
                         <div class="col-lg-4 col-md-4 col-sm-4 text-center margin-top-2">
                            <span class="congratulation text-white font-2rem">Congratulations,</span><br>
                            <span class="modelname text-white font-2rem">{{model_of_the_months.name | titlecase}}</span><br>
                            <span class="text-white font-2rem">{{model_of_the_months.month}}</span><br>
                         </div>
                         <div class="col-lg-4 col-md-4 col-sm-4 margin-top-2">
                            <img [src]="model_of_the_months.picture" class="mx-auto img-responsive">
                         </div>
                         <div class="col-lg-4 col-md-4 col-sm-4 text-center margin-top-2">
                            <div class="rightsidem">
                               <span class="winupto text-white font-2rem">WIN UP TO</span><br>
                               <span class="totalwin text-white font-2rem">{{model_of_the_months.candies_earning}} CANDIES IN CASE</span><br>
                            </div>
                         </div>
                       </div> 
                     </div>
                     <div class="tab-body-bg" *ngIf="!model_of_the_months.name"><p class="no-model-found">No model of this month </p></div>                    
                  </div>
                 <div class="tab-pane fad tab-div"  id="About">
                    <div class="col-md-4 col-sm-4 col-xs-12">
                       <img src="../../../../../assets/img/model/img-1.png" alt="" class="img-responsive" />
                    </div>
                    <div class="col-md-8 col-sm-8 col-xs-12">
                       <h3>Performers: Going to the YNOT Cam Awards?</h3>
                       <p>Do you want to win an award at the YNOT Cam Awards this summer? Ten spots are available for Cams.com nominees, so          hurry over to the link below and get nominated. Nominations close on June 14, 2019, so don't wait!</p>
                       <a [routerLink]="['/news']" [queryParams]="{news_id:4}" class="read-more">Read more...</a>
                    </div>
                 </div>
                 <div class="tab-pane fade tab-div"  id="Videos">
                    <div class="col-md-4 col-sm-4 col-xs-12">
                       <img src="../../../../../assets/img/model/tip.png" alt="" class="img-responsive" />
                    </div>
                    <div class="col-md-8 col-sm-8 col-xs-12">
                       <h3>Tip of the month!</h3>
                       <p>There are all kinds of things that you need to do become a successful and, best of all, RICH camgirl—from picking the right camera, to knowing the right lingerie to wear—but one of the things that webcam models often forget is a real key to being a fresh, living and best of all sexy camgirl: getting enough sleep!</p>
                       <a [routerLink]="['/news']" [queryParams]="{news_id:5}" class="read-more">Read more...</a>
                    </div>
                 </div>
              </div>
           </div>
           <div class="dashboard-earning">
              <h2><i class="fa fa-file-text" aria-hidden="true"></i> <a href="">My Activity</a></h2>
              <p>Today's trending hashtags:</p>
              <div class="chat-div">
                  <div class="col-md-12 col-sm-12 col-xs-12">
                     <form class="p-2 bg-light" #userActivityForm="ngForm" (ngSubmit)="userActivities(userActivityForm)">
                     <p class="para-color">Post on your wall</p>
                     <div class="form-group">
                        <textarea class="form-control" [(ngModel)]="content_comment" name="content_comment" id="content_comment"></textarea>
                     </div>                     
                     <div class="post-div">
                        <div class="col-md-3 col-sm-3 col-xs-3 cam-div">
                           <input type="file" class="myimage" accept="image/png,image/jpeg" name="uploaded-file" id="uploaded-file" (change)="handleProfilePicture($event.target.files)">
                           <div *ngIf="activity_perview_image">
                              <img [src]="activity_perview_image" class="img-responsive activity-image">
                           </div>
                           <a (click)="openCommentImage()" role="button"><i class="fa fa-camera p-1" aria-hidden="true" style="font-size: 22px"></i></a>  
                        </div>
                        <div class="col-md-9 col-sm-9 col-xs-9">
                           <button href="" name="submit"  class="post float-right btn btn-sm btn-warning">POST</button>
                        </div>
                     </div>
                     </form>
                  </div>
               </div>
              <div class="col-md-12 col-sm-12 col-xs-12 chat-message-text">
                 <div *ngFor="let user_activities of activities" class="chat-message-div2">
                    <div class="media">
                       <div class="media-left">
                          <img [src]="user_activities.user.chat_picture" class="media-object" style="width:60px">
                       </div>
                       <div class="media-body">
                          <a href="" class="media-heading">{{user_activities.user.name}}</a>
                          <p>{{ user_activities.created_at | date }} at {{ user_activities.created_at | date:'shortTime' }}</p>
                          <div class="edit-delete" *ngIf="user_activities.user.id == userId">
                              <div class="dropdown">
                                 <a href="#" type="button" data-toggle="dropdown"><i class="fa fa-chevron-down"></i></a>
                                 <ul class="dropdown-menu dropdown-right-0">
                                 <li><a role="button" (click)="editParentComment(user_activities.id)">Edit</a></li>
                                 <li><a role="button" (click)="deleteUserComent(user_activities.id)" >Delete</a></li>
                                 </ul>
                              </div>
                           </div>
                        </div>
                      </div>
                     <div class="chat-comment">
                       <p>{{user_activities.comment_content}}</p>
                       <img [src]="user_activities.activity_image" class="img-responsive act-image">
                        <div id="comment_{{user_activities.id}}" class="d-none" *ngIf="user_activities.user.id == userId">
                           <textarea class="form-control" placeholder="What's on your mind?" (keydown.enter)="updateActivities(user_activities)" [(ngModel)]="user_activities.comment_content" name="content_comment" id="content_comment"></textarea>
                        </div>
                     </div>
                     <div class="chat-like">
                       <ul class="list-inline">
                          <li *ngIf="user_activities.comment_like_count != 0">
                              <a role="button" (click)="getUsers(user_activities.id)" [attr.data-comment-id]="" data-toggle="modal" data-target="#likeModal"> 
                                 <i class="fa fa-thumbs-up" aria-hidden="true"></i>                                        
                              </a>
                              {{user_activities.comment_like_count}} Likes
                           </li>
                           <li class="font-18">
                              <a (click)="userFocus(user_activities.id)" role="button">
                                 <i class="fa fa-comment" aria-hidden="true"></i>
                                 {{user_activities.replies_count}} Comments
                              </a>
                           </li>
                       </ul>
                      </div>
                     <div class="post-footer-option">
                        <ul class="list-unstyled">
                           <li *ngIf="user_activities.like_user_id == true">
                              <a role="button" (click)="userActivityLike(user_activities.id)" class="small text-danger"> Unlike</a>
                           </li>
                           <li *ngIf="user_activities.like_user_id == false || user_activities.comment_like_count == 0">
                              <a role="button" (click)="userActivityLike(user_activities.id)" class="small text-danger"> Like</a>
                           </li>
                           <li><a (click)="userFocus(user_activities.id)" role="button"><i class="fa fa-comment ml-5 text-secondary"></i> <span class="text-danger">&nbsp;Comment</span></a></li>
                        </ul>
                     </div>
                    <div class="message-input">
                       <div class="media">
                          <div class="media-left">
                             <img [src]="user_activities.user.chat_picture" class="media-object" style="width:60px">
                          </div>
                          <div class="media-body">
                             <div class="form-group">
                                 <textarea class="form-control" id="focus_{{user_activities.id}}" [attr.data-commentid]="user_activities.id" placeholder="What's on your mind?" (keydown.enter)="userActivitiesChild($event)" name="content_comment" id="content_comment"></textarea>
                              </div>
                          </div>
                       </div>
                    </div>
                    <div *ngIf="user_activities.replies.length > 0">
                        <div *ngFor="let user_activities_reply of user_activities.replies;let i = index;">
                           <div class="post-comment mt-3">
                              <div class="media">
                                 <div class="media-left">
                                    <a href="#">
                                    <img class="media-object photo-profile" [src]="user_activities_reply.user.chat_picture" width="40" height="40" alt="...">
                                    </a>
                                 </div>
                                 <div class="media-body">
                                       <span>
                                          <h5 class="media-heading" *ngIf="user_activities_reply.user.is_content_creator==1">&nbsp;&nbsp;<a href="/#/candy-club/models/{{user_activities_reply.user.name}}" class="anchor-username">{{user_activities_reply.user.name}}</a> 
                                             <span class="comment-msg">&nbsp;&nbsp;{{user_activities_reply.comment_content}}</span>
                                          </h5>
                                          <h5 class="media-heading" *ngIf="user_activities_reply.user.is_content_creator==0">&nbsp;&nbsp;<a href="/#/candy-club/{{user_activities_reply.user.name}}" class="anchor-username">{{user_activities_reply.user.name}}</a> 
                                             <span class="comment-msg">&nbsp;&nbsp;{{user_activities_reply.comment_content}}</span>
                                          </h5>
                                          <div id="edit_comment_{{user_activities_reply.id}}" class="d-none" *ngIf="user_activities_reply.user.id == userId">
                                             <textarea class="ml-1 custom-textarea form-control" placeholder="What's on your mind?" (keydown.enter)="updateActivities(user_activities_reply)" [(ngModel)]="user_activities_reply.comment_content" name="content_comment" id="content_comment"></textarea>
                                          </div>
                                       </span>
                                       
                                       <ul class="list-unstyled ml-1 d-inline-flex">
                                          <li *ngIf="user_activities_reply.like_user_id == true">
                                             <a role="button" (click)="userActivityLike(user_activities_reply.id)" class="small"> Unlike</a>
                                          </li>
                                          <li *ngIf="user_activities_reply.like_user_id == false || user_activities_reply.replyCommentLikeCount == 0">
                                             <a role="button" (click)="userActivityLike(user_activities_reply.id)" class="small"> Like</a>
                                          </li>
                                          <li *ngIf="user_activities_reply.replyCommentLikeCount != 0">
                                             <a role="button" (click)="getUsers(user_activities_reply.id)" class="small ml-1 text-secondary" data-toggle="modal" data-target="#likeModal"> 
                                                <i class="fa fa-thumbs-up"></i> 
                                                {{user_activities_reply.replyCommentLikeCount}}
                                             </a>
                                          </li>
                                          <li><a role="button" (click)="replyShowHide(user_activities_reply.id)" class="small ml-1"> Reply</a></li>
                                          
                                       </ul>
                                       
                                       <span class="anchor-time small">&nbsp;&nbsp;{{user_activities_reply.created_at | timeAgo }} &nbsp;&nbsp;</span>
                                       <div class="d-inline-flex" *ngIf="user_activities_reply.user.id == userId">
                                          <a (click)="replyEditShowHide(user_activities_reply.id)" id="pencil_{{user_activities_reply.id}}"><i class="fa fa-pencil"></i></a>
                                          <a (click)="replyEditShowHide(user_activities_reply.id)" id="pencilclose_{{user_activities_reply.id}}" class="d-none"><i class="fa fa-close"></i></a>

                                       </div>
                                       <div *ngIf="user_activities_reply.user.id == userId" style="float: right;margin-top: -17px;margin-right: 5px;">
                                          <a role="button" (click)="deleteUserComent(user_activities_reply.id)"><i class="fa fa-trash"></i></a>
                                       </div>
                                       <div>
                                          <div id="comment_{{user_activities_reply.id}}" class="d-none">
                                             <textarea class="form-control" [attr.data-commentid]="user_activities_reply.id" placeholder="What's on your mind?" (keydown.enter)="userActivitiesChild($event)" name="content_comment" id="content_comment"></textarea>
                                          </div>
                                       </div>
                                       
                                 </div>
                              </div>
                           </div>
                           <div *ngIf="user_activities_reply.replies.length > 0">
                              <div class="reply-to-reply" *ngFor="let user_activities_re_reply of user_activities_reply.replies;">
                                 <div class="ml-3 border-left">
                                    <div class="media">
                                       <div class="media-left">
                                          <a href="#">
                                          <img class="media-object photo-profile" [src]="user_activities_re_reply.user.chat_picture" width="40" height="40" alt="...">
                                          </a>
                                       </div>
                                       <div class="media-body">
                                          <span>
                                             <h5 class="media-heading" *ngIf="user_activities_re_reply.user.is_content_creator==1"><a href="/#/candy-club/models/{{user_activities_re_reply.user.name}}" class="anchor-username">{{user_activities_re_reply.user.name}}</a> 
                                                <span class="comment-msg">&nbsp;&nbsp;{{user_activities_re_reply.comment_content}}</span>
                                             </h5>
                                             <h5 class="media-heading" *ngIf="user_activities_re_reply.user.is_content_creator==0"><a href="/#/candy-club/{{user_activities_re_reply.user.name}}" class="anchor-username">{{user_activities_re_reply.user.name}}</a> 
                                                <span class="comment-msg">&nbsp;&nbsp;{{user_activities_re_reply.comment_content}}</span>
                                             </h5>
                                             <div id="edit_comment_{{user_activities_re_reply.id}}" class="d-none" *ngIf="user_activities_re_reply.user.id == userId">
                                                <textarea class="custom-textarea form-control" placeholder="What's on your mind?" (keydown.enter)="updateActivities(user_activities_re_reply)" [(ngModel)]="user_activities_re_reply.comment_content" name="content_comment" id="content_comment"></textarea>
                                             </div>
                                          </span>                                                      
                                          <ul class="list-unstyled d-inline-flex">
                                             <li *ngIf="user_activities_re_reply.like_user_id == true">
                                                <a href="javascript:void(0);" (click)="userActivityLike(user_activities_re_reply.id)" class="small"> Unlike</a>
                                             </li>
                                             <li *ngIf="user_activities_re_reply.like_user_id == false || user_activities_re_reply.reReplyCommentLikeCount == 0">
                                                <a href="javascript:void(0);" (click)="userActivityLike(user_activities_re_reply.id)" class="small"> Like</a>
                                             </li>
                                             <li *ngIf="user_activities_re_reply.reReplyCommentLikeCount != 0">
                                                <a role="button" (click)="getUsers(user_activities_re_reply.id)" class="small ml-1 text-secondary" data-toggle="modal" data-target="#likeModal"> 
                                                   <i class="fa fa-thumbs-up"></i> 
                                                   {{user_activities_re_reply.reReplyCommentLikeCount}}
                                                </a>
                                             </li>
                                             <li><a role="button" (click)="replyShowHide(user_activities_re_reply.id)" class="small ml-1"> Reply</a></li>
                                          </ul>
                                          <span class="anchor-time small">&nbsp;&nbsp;{{user_activities_re_reply.created_at | timeAgo }} &nbsp;&nbsp;</span>
                                          <div class="d-inline-flex" *ngIf="user_activities_re_reply.user.id == userId">
                                             <a (click)="replyEditShowHide(user_activities_re_reply.id)" id="pencil_{{user_activities_re_reply.id}}"><i class="fa fa-pencil"></i></a>
                                             <a (click)="replyEditShowHide(user_activities_re_reply.id)" id="pencilclose_{{user_activities_re_reply.id}}" class="d-none"><i class="fa fa-close"></i></a>
                                          </div>
                                          <div *ngIf="user_activities_re_reply.user.id == userId" style="float: right;margin-top: -17px;margin-right: 5px;">
                                             <a role="button" (click)="deleteUserComent(user_activities_re_reply.id)"><i class="fa fa-trash"></i></a>
                                          </div>
                                          <div>
                                             <div id="comment_{{user_activities_re_reply.id}}" class="d-none">
                                                <textarea class="form-control" [attr.data-commentid]="user_activities_reply.id" placeholder="What's on your mind?" (keydown.enter)="userActivitiesChild($event)" name="content_comment" id="content_comment"></textarea>
                                             </div>
                                          </div> 
                                             
                                       </div>
                                    </div>
                                 </div>            
                              </div>
                           </div>
                           
                        </div>
                     </div>
                 </div>
              </div>
           </div>
           <div id="likeModal" class="modal fade" role="dialog">
               <div class="modal-dialog">   
                  <!-- Modal content-->
                  <div class="modal-content">
                     <div class="modal-header">
                        <button type="button" class="close" data-dismiss="modal">&times;</button>
                        <p class="modal-title">People who like this</p>
                     </div>
                     <div class="modal-body" *ngIf="activities.length > 0">
                        <div *ngFor="let users of likeUsers" class="media mt-1">
                           <div class="media-left">
                              <a href="#">
                              <img class="media-object photo-profile" [src]="users.user.chat_picture" width="40" height="40" alt="...">
                              </a>
                           </div>
                           <div class="media-body vertical-align-middle">
                              <h5 class="media-heading ml-1"><a href="#" class="anchor-username">{{users.user.name}}</a></h5>
                           </div>
                        </div>            
                     </div>
                  </div>
               </div>
            </div>
         </div>
        <div class="col-md-3 col-sm-7 col-xs-12 third-div">
           <div class="dashboard-earning">
              <h2><i class="fa fa-video-camera" aria-hidden="true"></i> <a href="">Top Models</a></h2>
              <div class="media" *ngIf="top_models.length > 0">
                  <div *ngFor="let top_model of top_models" class="p-2">
                     <div class="media-left">
                        <img [src]="top_model.chat_picture" class="media-object" style="width:60px">
                     </div>
                     <div class="media-body">
                        <a routerLink="/candy-club/model/{{top_model.name}}" class="media-heading bold">{{top_model.name | titlecase}}</a>
                     </div>
                 </div>
              </div>
           </div>
           <div class="dashboard-earning money">
              <h2><i class="fa fa-usd" aria-hidden="true"></i> <a href="">Make More Money</a></h2>
              <h3 class="follow-color">My followers</h3>
              <h3 class="follow-color">Referral tools</h3>
              <p><a href="#" class="bold">Click to learn about our member referral program</a></p>
           </div>
           <div class="dashboard-earning">
              <h2><i class="fa fa-gift" aria-hidden="true"></i> <a href="">My Gifts</a></h2>
               <ul class="list-unstyled my-gifts tab-body-bg" *ngIf="model_gift_lists.length > 0">
                  <li *ngFor="let model_gift_list of model_gift_lists"><img [src]="model_gift_list.gift['gift_image']" alt="" class="img-responsive" /></li>
               </ul>
               <div class="alert alert-danger text-center" *ngIf="model_gift_lists.length <= 0" style="margin-top:1em; padding:.5em;"> {{GiftErr}} </div>
           </div>
        </div>
     </div>
  </div>
</div>

<!-- Add channel modal -->
<div id="addChannel" class="modal fade" role="dialog">
   <div class="modal-dialog" style="margin-top: 14%">
 
     <!-- Modal content-->
     <div class="modal-content">
       <div class="modal-header">
         <button type="button" class="close" data-dismiss="modal">&times;</button>
         <h4 class="modal-title">Add a New Channel</h4>
       </div>
       <div class="modal-body">
         <form (ngSubmit)="addChannel(channelName.value, channelPrice.value); channelForm.reset()" #channelForm="ngForm">
            <div class="form-group mt-3">
              <label class="bold">Channel Name :</label>
              <input type="text" class="form-control" name="channelName" #channelName ngModel autocomplete="off" pattern="[a-zA-Z0-9\_ ]*" maxlength="20" required>
              <label class="bold mt-3">Price (Private Cost Per Minute) : </label>
              <input type="text" class="form-control" name="channelPrice" #channelPrice ngModel autocomplete="off" pattern="[0-9]*" maxlength="7" required>
              <div class="text-center mt-3">
                <input type="submit" [disabled]="!channelForm.valid" name="save_channel" class="btn btn-sm btn-info mt-2" value="Save Channel">
              </div>
            </div>
          </form>
       </div>
     </div>
   </div>
 </div>